(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{125:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(8),r=n(9),o=n(11),s=n(10),i=n(0),c=n.n(i),u=n(14),l=n(15),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(i,t);var n=Object(s.a)(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"login"})}}]),i}(c.a.Component);return Object(l.b)(p)(t)}},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(28),r=n(4),o="social-network/dialogs/SEND_MESSAGE",s="https://www.c7creative.com/wp-content/uploads/2015/05/Lee_C7_Avatar-01.png",i={dialogs:[{id:1,name:"Kiril",message:"How're you?",photo:s},{id:2,name:"John",message:"Hello!",photo:s},{id:3,name:"Smith",message:"Long time no see!",photo:s},{id:4,name:"Vasil",message:"Long time no see!",photo:s},{id:5,name:"Peter",message:"Long time no see!",photo:s}],messages:[{id:1,status:"received",message:"Hey, how are you doing?"},{id:2,status:"sent",message:"I'm great, thanks!"},{id:3,status:"received",message:"what are you doing?"},{id:4,status:"sent",message:"I'm learning React!"},{id:5,status:"received",message:"Let's go out today!"},{id:6,status:"sent",message:"Let me think..."}]},c=function(e){return{type:o,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:7,status:"sent",message:t.message};return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}}},130:function(e,t,n){e.exports={content:"Profile_content__3PjYT"}},131:function(e,t,n){},134:function(e,t,n){e.exports={myPosts_wrapper:"MyPosts_myPosts_wrapper__3-W77"}},135:function(e,t,n){e.exports={lds_ellipsis:"Preloader_lds_ellipsis__ygPzN","lds-ellipsis1":"Preloader_lds-ellipsis1__1zw45","lds-ellipsis2":"Preloader_lds-ellipsis2__29_Kb","lds-ellipsis3":"Preloader_lds-ellipsis3__2S0F9"}},137:function(e,t,n){e.exports={img:"Background_img__d5QDQ"}},138:function(e,t,n){e.exports={avatar:"ProfileAvatar_avatar__1kOCa"}},16:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__12QkB",nav:"Sidebar_nav__P7ixU",item:"Sidebar_item__3amBP",active:"Sidebar_active__3eqgc",friends:"Sidebar_friends__16A44",friends_wrap:"Sidebar_friends_wrap__9WRMn",friend:"Sidebar_friend__3Jj8-",title:"Sidebar_title__1RDPg"}},166:function(e,t,n){e.exports=n(292)},171:function(e,t,n){},172:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(63),s=n.n(o),i=(n(171),n(8)),c=n(9),u=n(11),l=n(10),p=(n(172),n(130)),m=n.n(p),f=n(68),d=n.n(f),h=function(e){return r.a.createElement("div",{className:d.a.item},r.a.createElement("div",null,r.a.createElement("img",{className:d.a.avatar,src:"https://cdn0.iconfinder.com/data/icons/sexy-portrait-girl-avatar-cute-beautiful-young-gir/283/female-138-512.png",alt:""})),r.a.createElement("div",{className:d.a.body},e.body),r.a.createElement("div",null,"Like ",e.likes),r.a.createElement("button",{onClick:function(t){e.deletePost(e.id)}},"delete"))},g=n(131),b=n.n(g),v=n(36),E=n(127),_=n(128),O=n(47),j=n(32),w=Object(j.a)(50),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).submit=function(t,n){e.props.addPost(t.post),n(Object(v.a)("newPost"))},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.submit),className:b.a.new_post},r.a.createElement(E.a,{name:"post",component:O.b,validate:[j.c,w],placeholder:"Title"}),r.a.createElement("div",null,r.a.createElement("button",null,"Add new post")))}}]),n}(r.a.Component),P=Object(_.a)({form:"newPost"})(y),S=n(134),C=n.n(S),k=n(140),N=n(70),A=n.n(N),F=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.currentPage,s=e.portionSize,i=e.onPageChange,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var p=Math.ceil(c/s),m=Object(a.useState)(1),f=Object(k.a)(m,2),d=f[0],h=f[1],g=(d-1)*s,b=d*s;return console.log(p),console.log(d),r.a.createElement("div",{className:A.a.pages_wrapper},d>2&&r.a.createElement("button",{onClick:function(){h(d=1)}},"<<"),d>1&&r.a.createElement("button",{onClick:function(){h(d-=1)}},"<"),u.filter((function(e){return e>=g&&e<=b})).map((function(e,t){return r.a.createElement("div",{key:t,className:e===o?A.a.active_page:A.a.page_item,onClick:function(){return i(e)}},e)})),p>d&&r.a.createElement("button",{onClick:function(){h(d+=1)}},">"),p-d>1&&r.a.createElement("button",{onClick:function(){h(d=p)}},">>"))},U=function(e){return r.a.createElement("div",{className:C.a.myPosts_wrapper},r.a.createElement("div",null,r.a.createElement(P,{addPost:e.addPost})),r.a.createElement("h3",null,"My posts:"),r.a.createElement(F,{totalCount:e.totalPostsCount,pageSize:e.pageSize,onPageChange:e.onPageChange,currentPage:e.currentPage,setCurrentPage:e.setCurrentPage}),r.a.createElement("div",null,e.posts.map((function(t,n){return r.a.createElement(h,{deletePost:e.deletePost,key:t.id,likes:t.likes,body:t.body})}))))},T=n(135),I=n.n(T),x=function(e){return r.a.createElement("div",{className:I.a.lds_ellipsis},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},M=n(13),z=n.n(M),D=n(21),L=n(28),G=n(4),H=n(136).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"069ca66f-4179-499c-bd9a-4842578eef4f"}}),R=function(e,t){return H.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},q={followUser:function(e){return H.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return H.delete("follow/".concat(e)).then((function(e){return e.data}))}},J=function(){return H.get("auth/me").then((function(e){return e.data}))},W=function(e,t,n,a){return H.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e}))},B=function(){return H.delete("auth/login").then((function(e){return e}))},K=function(e){return H.get("profile/".concat(e)).then((function(e){return e.data}))},Z=function(e){return H.get("profile/status/".concat(e)).then((function(e){return e.data}))},X=function(e){return H.put("profile/status",{status:e}).then((function(e){return e.data}))},Q="social-network/profile/ADD_POST",V="social-network/profile/DELETE_POST",Y="social-network/profile/SET_POSTS",$="social-network/profile/SET_CURRENT_PAGE",ee="social-network/profile/CHECK_IS_FETCHING",te="social-network/profile/SET_PROFILE",ne="social-network/profile/GET_STATUS",ae={totalPostsCount:20,pageSize:5,currentPage:1,profile:null,status:"",posts:[{id:1,body:"Be yourself everyone else is already taken. \u2015 Oscar Wilde",likes:75},{id:2,body:"Be who you are and say what you feel, \n             because those who mind don't matter, and those who matter don't mind.\u2015 Bernard M. Baruch",likes:66},{id:3,body:"A room without books is like a body without a soul.\u201d\n            \u2015 Marcus Tullius Cicero",likes:102}],isFetching:!1},re=function(e){return{type:ne,statusData:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var n={id:e.posts.length+1,body:t.payload,likes:0};return Object(G.a)(Object(G.a)({},e),{},{posts:[].concat(Object(L.a)(e.posts),[n])});case V:return Object(G.a)(Object(G.a)({},e),{},{posts:Object(L.a)(e.posts.filter((function(e){return e.id!==t.id})))});case Y:return Object(G.a)(Object(G.a)({},e),{},{posts:[].concat(Object(L.a)(e.posts),Object(L.a)(t.posts))});case $:return Object(G.a)(Object(G.a)({},e),{},{currentPage:t.page});case ee:return Object(G.a)(Object(G.a)({},e),{},{isFetching:t.isFetching});case te:return Object(G.a)(Object(G.a)({},e),{},{profile:t.profileData});case ne:return Object(G.a)(Object(G.a)({},e),{},{status:t.statusData});default:return e}},se=n(15),ie=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){e.props.setCurrentPage(t)},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(x,null):null,r.a.createElement(U,{posts:this.props.posts,totalPostsCount:this.props.totalPostsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,addPost:this.props.addPost,deletePost:this.props.deletePost,setCurrentPage:this.props.setCurrentPage}))}}]),n}(r.a.Component),ce=Object(se.b)((function(e){return{posts:e.profilePage.posts,totalPostsCount:e.profilePage.totalPostsCount,pageSize:e.profilePage.pageSize,currentPage:e.profilePage.currentPage,isFetching:e.profilePage.isFetching}}),{addPost:function(e){return{type:Q,payload:e}},deletePost:function(e){return{type:V,id:e}},setPosts:function(e){return{type:Y,posts:e}},setCurrentPage:function(e){return{type:$,page:e}},checkIsFetching:function(e){return{type:ee,isFetching:e}}})(ie),ue=n(67),le=n.n(ue),pe=n(137),me=n.n(pe),fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:me.a.img},r.a.createElement("img",{src:"https://cdn.trendhunterstatic.com/thumbs/cool-backgrounds.jpeg",alt:""}))}}]),n}(a.Component),de=n(138),he=n.n(de),ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.profileAvatar;return r.a.createElement("div",{className:he.a.avatar},e?r.a.createElement("img",{src:e,alt:""}):r.a.createElement("img",{src:"https://images.squarespace-cdn.com/content/v1/5a7a17897131a579be261747/1530282889879-NMIJEPETRKHL6RWHZGH0/ke17ZwdGBToddI8pDm48kHhlTY0to_qtyxq77jLiHTtZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7T-j82ScS_xjTqFYGqFrT72qZ_E0ELtHpOZiWcSG1QwIMeEVreGuQ8F95X5MZTW1Jw/avatar-placeholder.png\r ",alt:""}))}}]),n}(a.Component),be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={statusData:e.props.status,editMode:!1},e.editModeOn=function(){e.setState({editMode:!0})},e.editModeOff=function(){e.setState({editMode:!1}),e.props.setUserStatus(e.state.statusData)},e.onStatusChange=function(t){e.setState({statusData:t.currentTarget.value})},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,!this.state.editMode&&r.a.createElement("span",{onDoubleClick:this.editModeOn,className:le.a.status},this.props.status||"-------"),r.a.createElement("div",null,this.state.editMode&&r.a.createElement("input",{onChange:this.onStatusChange,onBlur:this.editModeOff,autoFocus:!0,type:"text",value:this.state.statusData}),r.a.createElement("button",null,"Save")))}}]),n}(r.a.Component),ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.profile?r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null),r.a.createElement(ge,{profileAvatar:this.props.profile.photos.large}),r.a.createElement("div",{className:le.a.info},r.a.createElement("h2",null,this.props.profile.fullName),r.a.createElement(be,{status:this.props.status,setUserStatus:this.props.setUserStatus,userId:this.props.profile.userId}),r.a.createElement("div",null,this.props.profile.aboutMe),this.props.profile.lookingForAJob?r.a.createElement("div",null,"Looking for a job: ",this.props.profile.lookingForAJobDescription):"")):r.a.createElement(x,null)}}]),n}(a.Component),Ee=n(14),_e=n(125),Oe=n(12),je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId),this.props.getProfileData(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,Object.assign({},this.props,{status:this.props.status,profile:this.props.profile,setUserStatus:this.props.setUserStatus})))}}]),n}(r.a.Component),we=Object(Oe.d)(Object(se.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfileData:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:a=t.sent,n({type:te,profileData:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:a=t.sent,n(re(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e);case 2:0===t.sent.resultCode&&n(re(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Ee.f,_e.a)(je),ye=function(e){return r.a.createElement("div",{className:m.a.content},r.a.createElement(we,null),r.a.createElement(ce,null))},Pe=n(16),Se=n.n(Pe),Ce=n(17),ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("nav",{className:Se.a.nav},r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/profile"},"My profile")),r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/dialogs"},"Messages")),r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/news"},"News")),r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/music"},"Music")),r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/users"},"Users")),r.a.createElement("div",{className:Se.a.item},r.a.createElement(Ce.b,{activeClassName:Se.a.active,to:"/settings"},"Settings")))}}]),n}(a.Component),Ne=function(e){return r.a.createElement("div",{className:Se.a.friend},r.a.createElement("div",null,r.a.createElement("img",{src:e.photo,alt:""}),r.a.createElement("div",null,e.name)))},Ae=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Se.a.friends},r.a.createElement("span",{className:Se.a.title},"Friends"),r.a.createElement("span",null,r.a.createElement(Ce.b,{to:"/friends"},"See All")),r.a.createElement("div",{className:Se.a.friends_wrap},this.props.friends.map((function(e,t){return r.a.createElement(Ne,{key:t,name:e.name,photo:e.photo})}))))}}]),n}(r.a.Component),Fe=Object(se.b)((function(e){return{friends:e.sidebar.friends}}),(function(e){return{}}))(Ae),Ue=function(e){return r.a.createElement("div",{className:Se.a.sidebar},r.a.createElement(ke,null),r.a.createElement(Fe,{store:e.store}))},Te=n(54),Ie=n.n(Te),xe=function(e){return r.a.createElement("div",{className:Ie.a.container},r.a.createElement(F,{onPageChange:e.onPageChange,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,portionSize:e.portionSize}),e.users.map((function(t){return r.a.createElement("div",{key:t.id,className:Ie.a.user_item},r.a.createElement(Ce.b,{to:"/profile/"+t.id},r.a.createElement("span",null,r.a.createElement("img",{src:t.photos.small,alt:""}))),r.a.createElement("span",null,t.name),t.followed?r.a.createElement("button",{disabled:e.isFollowingActive.some((function(e){return e===t.id})),className:Ie.a.btn,onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.isFollowingActive.some((function(e){return e===t.id})),className:Ie.a.btn,onClick:function(){e.follow(t.id)}},"Follow"))})))},Me=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(G.a)(Object(G.a)({},e),a):e}))},ze="social-network/users/FOLLOW",De="social-network/users/UNFOLLOW",Le="social-network/users/SET_USERS",Ge="social-network/users/SET_TOTAL_USERS_COUNT",He={totalUsersCount:0,pageSize:30,page:1,users:[],portionSize:7,isFetching:!1,isFollowingActive:[]},Re=function(e){return{type:ze,userID:e}},qe=function(e){return{type:De,userID:e}},Je=function(e){return{type:"social-network/users/CHECK_IS_FETCHING",isFetching:e}},We=function(e,t){return{type:"social-network/users/TOGGLE_FOLLOWING_PROCESS",isFetching:e,userId:t}},Be=function(){var e=Object(D.a)(z.a.mark((function e(t,n,a,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(We(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(We(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(G.a)(Object(G.a)({},e),{},{users:Me(e.users,t.userID,"id",{followed:!0})});case De:return Object(G.a)(Object(G.a)({},e),{},{users:Me(e.users,t.userID,"id",{followed:!1})});case Le:return Object(G.a)(Object(G.a)({},e),{},{users:Object(L.a)(t.users)});case"social-network/users/SET_CURRENT_PAGE":return Object(G.a)(Object(G.a)({},e),{},{page:t.page});case"social-network/users/CHECK_IS_FETCHING":return Object(G.a)(Object(G.a)({},e),{},{isFetching:t.isFetching});case Ge:return Object(G.a)(Object(G.a)({},e),{},{totalUsersCount:t.totalCount});case"social-network/users/TOGGLE_FOLLOWING_PROCESS":return Object(G.a)(Object(G.a)({},e),{},{isFollowingActive:t.isFetching?[].concat(Object(L.a)(e.isFollowingActive),[t.userId]):e.isFollowingActive.filter((function(e){return e!==t.userId}))});default:return e}},Ze=function(e){return e.usersPage.users},Xe=function(e){return e.usersPage.totalUsersCount},Qe=function(e){return e.usersPage.pageSize},Ve=function(e){return e.usersPage.page},Ye=function(e){return e.usersPage.isFetching},$e=function(e){return e.usersPage.isFollowingActive},et=function(e){return e.usersPage.portionSize},tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){e.props.requestUsers(e.props.pageSize,t)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(x,null):null,r.a.createElement(xe,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,onPageChange:this.onPageChange,checkIfFollowingActive:this.props.checkIfFollowingActive,isFollowingActive:this.props.isFollowingActive,portionSize:this.props.portionSize}))}}]),n}(r.a.Component),nt=Object(se.b)((function(e){return{users:Ze(e),totalUsersCount:Xe(e),pageSize:Qe(e),currentPage:Ve(e),isFetching:Ye(e),isFollowingActive:$e(e),portionSize:et(e)}}),{follow:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=q.followUser.bind(q),Be(n,e,a,Re);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=q.unfollowUser.bind(q),Be(n,e,a,qe);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},checkIsFetching:Je,requestUsers:function(e,t){return function(){var n=Object(D.a)(z.a.mark((function n(a){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Je(!0)),n.next=3,R(e,t);case 3:r=n.sent,a((s=r.items,{type:Le,users:s})),a((o=r.totalCount,{type:Ge,totalCount:o})),a(Je(!1)),a({type:"social-network/users/SET_CURRENT_PAGE",page:t});case 8:case"end":return n.stop()}var o,s}),n)})));return function(e){return n.apply(this,arguments)}}()},checkIfFollowingActive:We})(tt),at=n(71),rt=n.n(at),ot=function(e){return r.a.createElement("header",{className:rt.a.header},"LOGO",e.isAuth?r.a.createElement("div",{className:rt.a.login},e.login," | ",r.a.createElement("button",{onClick:e.logOutUser},"Exit")):r.a.createElement(Ce.b,{to:"/login"},r.a.createElement("div",{className:rt.a.login},"Sign In")))},st="social-network/auth/SET_AUTH_DATA",it={id:null,email:null,login:null,isAuth:!1,captcha:null},ct=function(e,t,n,a){return{type:st,payload:{id:e,email:t,login:n,isAuth:a}}},ut=function(){return function(){var e=Object(D.a)(z.a.mark((function e(t,n){var a,r,o,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:0===(a=e.sent).resultCode&&(r=a.data,o=r.id,s=r.email,i=r.login,t(ct(o,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(G.a)(Object(G.a)({},e),t.payload);default:return e}},pt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ot,{login:this.props.login,logOutUser:this.props.logOutUser,isAuth:this.props.isAuth})}}]),n}(a.Component),mt=Object(se.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logOutUser:function(){return function(){var e=Object(D.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:0===e.sent.resultCode&&ut();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(pt),ft=n(93),dt=n.n(ft),ht=Object(j.a)(20),gt=Object(j.b)(6),bt=Object(_.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,action:""},r.a.createElement("div",null,r.a.createElement(E.a,{name:"email",component:O.a,validate:[j.c,ht,gt],type:"email",placeholder:"login"})),r.a.createElement("div",null,r.a.createElement(E.a,{name:"password",component:O.a,validate:[j.c,ht,gt],type:"password",placeholder:"password"})),r.a.createElement("div",null,r.a.createElement(E.a,{name:"rememberMe",component:"input",type:"checkbox"}),"remember me"),r.a.createElement("button",null,"Sign In"),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:""})),r.a.createElement("div",null,r.a.createElement(E.a,{name:"captcha",component:"input",type:"text",placeholder:"Captcha"}))),e.error&&r.a.createElement("div",{className:dt.a.commonError},e.error))})),vt=Object(se.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{logInUser:function(e,t,n,a){return function(){var r=Object(D.a)(z.a.mark((function r(o){var s,i;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,W(e,t,n,a);case 2:0===(s=r.sent).resultCode?o(ut()):(i=s.data.messages.length>0?s.data.messages[0]:"Something went wrong",o(Object(v.b)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?(console.log(e.isAuth),r.a.createElement(Ee.a,{to:"/profile"})):r.a.createElement("div",{className:dt.a.login_container},r.a.createElement("h2",null,"Sign in"),r.a.createElement(bt,{onSubmit:function(t,n){var a=t.email,r=t.password,o=t.rememberMe;e.logInUser(a,r,o),n(Object(v.a)("login"))}}))})),Et={authSucced:!1},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN_DATA":return Object(G.a)(Object(G.a)({},e),{},{authSucced:!0});default:return e}},Ot=n(126),jt="https://www.c7creative.com/wp-content/uploads/2015/05/Lee_C7_Avatar-01.png",wt={friends:[{id:1,name:"Kiril",photo:jt},{id:2,name:"John",photo:jt},{id:3,name:"Smith",photo:jt},{id:4,name:"Vasil",photo:jt},{id:5,name:"Peter",photo:jt},{id:6,name:"Karl",photo:jt},{id:7,name:"Elon",photo:jt},{id:8,name:"Fibby",photo:jt},{id:9,name:"Tom",photo:jt}]},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;arguments.length>1&&arguments[1];return e},Pt=n(129),St=n(139),Ct=Object(Oe.c)({dialogsPage:Ot.a,profilePage:oe,sidebar:yt,usersPage:Ke,auth:lt,form:Pt.a,app:_t}),kt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Oe.d,Nt=Object(Oe.e)(Ct,kt(Object(Oe.a)(St.a)));window.__store__=Nt;var At=Nt,Ft=function(e){return function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(x,null)},r.a.createElement(e,t))}},Ut=r.a.lazy((function(){return n.e(3).then(n.bind(null,299))})),Tt=r.a.lazy((function(){return n.e(5).then(n.bind(null,296))})),It=r.a.lazy((function(){return n.e(4).then(n.bind(null,297))})),xt=r.a.lazy((function(){return n.e(6).then(n.bind(null,298))})),Mt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.authSucced?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(mt,null),r.a.createElement(Ue,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(Ee.b,{path:"/dialogs",render:Ft(Ut)}),r.a.createElement(Ee.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(Ee.b,{path:"/news",render:Ft(Tt)}),r.a.createElement(Ee.b,{path:"/music",render:Ft(It)}),r.a.createElement(Ee.b,{path:"/settings",render:Ft(xt)}),r.a.createElement(Ee.b,{path:"/users",render:function(){return r.a.createElement(nt,null)}}),r.a.createElement(Ee.b,{path:"/login",render:function(){return r.a.createElement(vt,null)}}))):r.a.createElement(x,null)}}]),n}(r.a.Component),zt=Object(Oe.d)(Ee.f,Object(se.b)((function(e){return{authSucced:e.app.authSucced}}),{initializeApp:function(){return function(e){e(ut()).then((function(){e({type:"SET_LOGIN_DATA"})}))}}}))(Mt),Dt=function(){return r.a.createElement(Ce.a,null,r.a.createElement(se.a,{store:At},r.a.createElement(zt,null)))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Dt,null)),document.getElementById("root"))},32:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n(0);var a=function(e){return e?void 0:"This field is required"},r=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}},o=function(e){return function(t){return t&&t.length<e?"Must be ".concat(e," characters or more"):void 0}}},38:function(e,t,n){e.exports={formControl:"formControls_formControl__3onKJ",error:"formControls_error__3-OrB",error_message:"formControls_error_message__3hjCL"}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(94),r=n(0),o=n.n(r),s=n(38),i=n.n(s),c=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),s=n.touched&&n.error;return o.a.createElement("div",{className:i.a.formControl+" "+(s?i.a.error:"")},o.a.createElement("textarea",Object.assign({},t,r)),s&&o.a.createElement("div",{className:i.a.error_message},n.error))},u=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),s=n.touched&&n.error;return o.a.createElement("div",{className:i.a.formControl+" "+(s?i.a.error:"")},o.a.createElement("input",Object.assign({},t,r)),s&&o.a.createElement("span",{className:i.a.error_message},n.error))}},54:function(e,t,n){e.exports={container:"Users_container__3zTfj",user_item:"Users_user_item__3cFH8",status:"Users_status__3weSO",pages_container:"Users_pages_container__2tOpP",active_page:"Users_active_page__16D-v"}},67:function(e,t,n){e.exports={info:"ProfileInfo_info__IO_zG",status:"ProfileInfo_status__MMZcv"}},68:function(e,t,n){e.exports={item:"Post_item__1_U5D",title:"Post_title__2s8hJ",body:"Post_body__3NiyX"}},70:function(e,t,n){e.exports={pages_wrapper:"Paginator_pages_wrapper__1yi0I",active_page:"Paginator_active_page__8Z5cy"}},71:function(e,t,n){e.exports={header:"Header_header__KMDu3",login:"Header_login__3MMWH"}},93:function(e,t,n){e.exports={login_container:"Login_login_container__3lH5N",commonError:"Login_commonError__3XqFP"}}},[[166,1,2]]]);
//# sourceMappingURL=main.d49c5ec2.chunk.js.map